--// Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer

--// Settings
local menuEnabled = false -- เริ่มต้นปิดเมนู

--// GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MBotMobileGUI"
screenGui.Parent = player:WaitForChild("PlayerGui")

-- ปุ่มเปิด/ปิดเมนู
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 60, 0, 60)
toggleButton.Position = UDim2.new(1, -70, 1, -70) -- มุมล่างขวา
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
toggleButton.Text = "☰"
toggleButton.TextColor3 = Color3.fromRGB(255,255,255)
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextSize = 30
toggleButton.Parent = screenGui

-- กรอบเมนู
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 200, 0, 300)
mainFrame.Position = UDim2.new(0.5, -100, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.Visible = menuEnabled
mainFrame.Parent = screenGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 50)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
titleLabel.Text = "M Bot Menu"
titleLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 24
titleLabel.Parent = mainFrame

-- ฟังก์ชันสร้างปุ่มในเมนู
local function createButton(name, callback)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.9, 0, 0, 40)
    button.Position = UDim2.new(0.05, 0, 0, 50 + (#mainFrame:GetChildren()-2)*45)
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Text = name
    button.Font = Enum.Font.SourceSans
    button.TextSize = 20
    button.Parent = mainFrame
    button.MouseButton1Click:Connect(callback)
end

-- ตัวอย่างปุ่ม
createButton("Say Hello", function()
    print("Hello from M Bot (Mobile)!")
end)

-- ปุ่มเปิด/ปิดเมนู
toggleButton.MouseButton1Click:Connect(function()
    menuEnabled = not menuEnabled
    mainFrame.Visible = menuEnabled
end)
